version: '3.8'
services:
  app:
    build: .
    container_name: tripton-app
    ports:
      - "${SERVER_PORT}:8080"
    environment:
      DB_URL: jdbc:mysql://mysql:3306/${DB_NAME}?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8
      DB_USERNAME: ${DB_USERNAME}
      DB_PASSWORD: ${DB_PASSWORD}
      JPA_DDL_AUTO: ${JPA_DDL_AUTO}
      JPA_SHOW_SQL: ${JPA_SHOW_SQL}
      GEMINI_ENABLED: ${GEMINI_ENABLED}
      GEMINI_API_KEY: ${GEMINI_API_KEY}
    restart: unless-stopped
    env_file:
      - .env

networks:
  default:
    external: true
    name: ${DOCKER_NETWORK:-bridge}
